
<div class="card">
  <div class="card-header" >
      إضافة  حالة
  </div>
  <!-- <div class="card-header" *ngIf="AdvantageId">
      تعديل الميزة 
  </div> -->
 
  <div class="card-body">
      <form [formGroup]="addStatusForm">
          <div class="form-group">
            <label>حالة الاستجابة</label>
       
            <select class="form-select" 
            [ngClass]="{ 'is-invalid': submitted && f['response'].errors }" 
            formControlName="response">
                <option selected disabled>أختر</option>
                  <option value="none">{{'none'}}</option>
                <option value="Block">{{'Block'}}</option>
                <option value="Whats App">{{'Whats App'}}</option>
                <option value="Demo active">{{'Demo active'}}</option>
                <option value="Demo not active">{{'Demo not active'}}</option>
                <option value="Call back">{{'Call back'}}</option>
                <option value="No asnwer">{{'No asnwer'}}</option>
                <option value="Subscribed">{{'Subscribed'}}</option>
                <option value="Lose">{{'Lose'}}</option>
              </select>
            <div *ngIf="submitted && f['response'].errors" class="invalid-feedback">
              <div *ngIf="f['response'].errors['required']"> الميزة مطلوبة</div>
            </div>
          </div>
          <div class="form-group">
            <label> توضيح الاستجابة</label>
            <textarea class="form-control" formControlName="note"  rows="3"></textarea>
            <!-- <div *ngIf="submitted && f['lastComment'].errors" class="invalid-feedback">
              <div *ngIf="f['lastComment'].errors['required']">توضيح الاستجابة مطلوب</div>
            </div> -->
          </div>
      
          <div class="form-group">
              <button type="button" class="btn btn-primary my-2" (click)="addClientStatus()">إضافة</button>
              <button
                type="button"
                (click)="onReset()"
                class="btn btn-danger mx-2"
              >
                مسح
              </button>
            </div>

        </form>
  </div>
</div>

<div class="row mt-4">
  <div class="col-md-12">
      <div class="card o-hidden">
        <ngx-datatable
     

        style="height: calc(100vh - 270px); box-shadow: none" class="material fullscreen"
        [columnMode]="'force'" 
        [headerHeight]="50"
        [footerHeight]="50" 
        [rowHeight]="50" 
        [scrollbarV]="true"
        [virtualization]="false"
        [scrollbarH]="true"
        #table
        [limit]="pageData?.per_page" 
        [rows]="statusList"
        class="material"
        [externalPaging]="true"
        [count]="pageData?.total"
        [offset]="pageData?.current_page - 1"
        (page)="getAllStatus($event.offset + 1)" 
        >

       

          <ngx-datatable-column name="subtitle" [width]="60" [maxWidth]="200">
            <ng-template ngx-datatable-header-template>
            ID
            </ng-template>
            <!-- <ng-template   let-value="value" let-row="row" ngx-datatable-cell-template>
              {{row.id}}
          </ng-template> -->
          <ng-template   let-value="value" let-rowIndex="rowIndex" let-row="row" ngx-datatable-cell-template>
            <!-- {{row?.id }} -->
            {{rowIndex+1}}
        </ng-template>
          </ngx-datatable-column>

          <ngx-datatable-column name="subtitle" [width]="160" [maxWidth]="300">
            <ng-template ngx-datatable-header-template>
             حالة الاستجابة
            </ng-template>
            <ng-template   let-value="value" let-row="row" ngx-datatable-cell-template>
              {{row?.response}}
          </ng-template>
          </ngx-datatable-column>
          <ngx-datatable-column name="subtitle" [width]="260" [maxWidth]="600">
            <ng-template ngx-datatable-header-template>
              توضيح الاستجابة
            </ng-template>
            <ng-template   let-value="value" let-row="row" ngx-datatable-cell-template>
              {{row?.note}}
          </ng-template>
          </ngx-datatable-column>
          <!-- <ngx-datatable-column name="operations" [width]="160" [maxWidth]="400" *ngIf="userInfo?.roleId !== 5">
            <ng-template ngx-datatable-header-template>
              خيارات
            </ng-template>
            <ng-template let-value="value" let-row="row" let-rowIndex="rowIndex"
            ngx-datatable-cell-template>      
            <button type="button" class="btn btn-primary btn-rounded m-1" (click)="toEditRecomondationType(row.id)" >
              <i class="fa fa-edit"></i>
            </button>
         
          </ng-template>
          </ngx-datatable-column> -->

         
        </ngx-datatable>
      </div>
  </div>
</div>
